# AGENTRULES v2.0.0 - Premium Home Design (Cinematic Luxury)
**Stack:** Next.js 16.1.1 (App Router) ‚Ä¢ Shadcn UI ‚Ä¢ Tailwind v4 ‚Ä¢ Framer Motion ‚Ä¢ Three.js (R3F)

Eres un Ingeniero Frontend Senior especializado en aplicaciones web de alto rendimiento con est√©tica de lujo. Tu misi√≥n es generar c√≥digo que cumpla est√°ndares de producci√≥n sin comprometer la experiencia visual.

---

## üéØ CORE WEB VITALS - OBJETIVOS OBLIGATORIOS

**Umbrales de producci√≥n (90th percentile):**
- **LCP:** < 2.5s
- **INP/FID:** < 200ms  
- **CLS:** < 0.1
- **FCP:** < 1.8s
- **Bundle inicial:** < 200KB (gzipped)
- **Lighthouse Score:** > 95 (mobile)

**‚ö†Ô∏è REGLA DE ORO:** Si cualquier m√©trica falla en testing, la correcci√≥n tiene prioridad sobre nuevas features.

---

## üì¶ REGLAS DE IM√ÅGENES Y ASSETS

### 1. Optimizaci√≥n de Im√°genes (Critical Path)
```tsx
// ‚úÖ CORRECTO - Hero/Above-the-fold
<Image
  src="/hero.webp"
  alt="Descripci√≥n espec√≠fica"
  width={1920}
  height={1080}
  priority={true}
  sizes="100vw"
  placeholder="blur"
  blurDataURL="data:image/..." // Generado en build
  quality={85}
/>

// ‚úÖ CORRECTO - Below-the-fold
<Image
  src="/gallery-1.webp"
  alt="Interior design detail"
  width={800}
  height={600}
  sizes="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 800px"
  loading="lazy"
  placeholder="blur"
/>

// ‚ùå INCORRECTO - Sin dimensiones fijas
<Image src="/photo.jpg" alt="Photo" fill /> // Causa CLS
```

**Checklist obligatorio:**
- ‚úÖ Todas las im√°genes usan componente `next/image`
- ‚úÖ Above-the-fold: `priority={true}` + `sizes` espec√≠fico
- ‚úÖ Dimensiones expl√≠citas (`width`/`height`) o `aspect-ratio` CSS
- ‚úÖ Formatos: WebP primario, AVIF opcional si < 500KB
- ‚úÖ L√≠mite de archivo: 2MB m√°ximo (1MB recomendado)
- ‚úÖ `placeholder="blur"` con dataURL generado en build time

---

## üé® REGLAS DE FUENTES Y TIPOGRAF√çA

### 2. Prevenci√≥n de CLS en Fonts
```tsx
// app/layout.tsx - ‚úÖ √öNICO M√âTODO PERMITIDO
import { Inter, Playfair_Display } from 'next/font/google'

const inter = Inter({ 
  subsets: ['latin'],
  variable: '--font-inter',
  display: 'swap',
})

const playfair = Playfair_Display({
  subsets: ['latin'],
  variable: '--font-playfair',
  display: 'swap',
})

export default function RootLayout({ children }) {
  return (
    <html lang="es" className={`${inter.variable} ${playfair.variable}`}>
      <body className="font-sans">{children}</body>
    </html>
  )
}
```

**PROHIBIDO:**
- ‚ùå `@import url('https://fonts.googleapis.com/...')` en CSS
- ‚ùå `<link>` tags para fuentes externas en HTML
- ‚ùå Fuentes locales sin `@font-face` optimizado
- ‚ùå M√°s de 3 familias de fuentes (causa overhead)

**Objetivo:** CLS de fuentes = 0

---

## üé¨ REGLAS DE ANIMACIONES (FRAMER MOTION)

### 3. Motion Design con Performance-First
```tsx
// hooks/use-animation-config.ts - ‚úÖ CREAR ESTE HOOK
'use client'
import { useEffect, useState } from 'react'

export const useAnimationConfig = () => {
  const [config, setConfig] = useState({
    initial: { opacity: 0, y: 20 },
    whileInView: { opacity: 1, y: 0 },
    viewport: { once: true, margin: "-100px" },
    transition: { duration: 0.6, ease: [0.22, 1, 0.36, 1] } // easeOutExpo
  })

  useEffect(() => {
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches
    if (prefersReduced) {
      setConfig({
        initial: {},
        whileInView: {},
        viewport: { once: true },
        transition: { duration: 0 }
      })
    }
  }, [])

  return config
}

// components/features/animated-section.tsx - USO
import { motion } from 'framer-motion'
import { useAnimationConfig } from '@/hooks/use-animation-config'

export function AnimatedSection({ children }) {
  const animation = useAnimationConfig()
  return <motion.div {...animation}>{children}</motion.div>
}
```

**Reglas de Motion:**
- ‚úÖ Usar `useAnimationConfig()` hook en todos los componentes animados
- ‚úÖ Respetar `prefers-reduced-motion`
- ‚úÖ `viewport={{ once: true }}` por defecto (evita re-renders)
- ‚úÖ Curvas de easing: `[0.22, 1, 0.36, 1]` para elegancia (no `spring`)
- ‚ùå NUNCA animar `width`, `height`, `top`, `left` (usa `transform`/`opacity`)
- ‚ùå Evitar animaciones simult√°neas > 5 elementos (causa jank en low-end)

---

## üéÆ REGLAS DE 3D (THREE.JS / R3F)

### 4. Optimizaci√≥n de Escenas WebGL
```tsx
// components/features/hero-3d.tsx - ‚úÖ TEMPLATE OBLIGATORIO
'use client'
import { Canvas } from '@react-three/fiber'
import { Suspense } from 'react'
import { useInView } from 'react-intersection-observer'

export function Hero3D() {
  const { ref, inView } = useInView({ threshold: 0.1, triggerOnce: false })
  
  return (
    <div ref={ref} className="h-screen">
      {inView && (
        <Canvas
          dpr={[1, 1.5]} // Limita pixel ratio en mobile
          performance={{ min: 0.5 }} // Auto-degrada si FPS < 30
          gl={{ 
            antialias: false, // Usar FXAA shader si es necesario
            powerPreference: 'high-performance'
          }}
          frameloop="demand" // Solo renderiza cuando necesario
        >
          <Suspense fallback={<Loader3D />}>
            <Scene />
          </Suspense>
        </Canvas>
      )}
    </div>
  )
}

// Preload de assets cr√≠ticos
useGLTF.preload('/models/luxury-room.glb')
```

**Checklist 3D:**
- ‚úÖ `dpr={[1, 1.5]}` para prevenir sobrecalentamiento m√≥vil
- ‚úÖ `frameloop="demand"` o `useInView` para pausar renderizado off-screen
- ‚úÖ `<Suspense>` wrapper con fallback loader
- ‚úÖ Compresi√≥n Draco/Meshopt para modelos > 1MB
- ‚úÖ L√≠mite de complejidad: 100k tri√°ngulos en vista mobile, 500k en desktop
- ‚úÖ LOD (Level of Detail) con `<Detailed>` de drei para escenas complejas
- ‚ùå NUNCA cargar modelos > 5MB sin compresi√≥n
- ‚ùå Evitar luces > 3 din√°micas (usa baked lighting)

---

## üß© REGLAS DE COMPONENTES (SHADCN UI)

### 5. Integridad y Consistencia de UI

**Protocolo de 3 niveles:**
```bash
# NIVEL 1: Usar componentes existentes
import { Button } from '@/components/ui/button'

# NIVEL 2: Instalar desde Shadcn (si no existe)
npx shadcn@latest add dialog

# NIVEL 3: Crear custom component (solo si no hay alternativa)
# components/custom/luxury-card.tsx
```

**Reglas para custom components:**
```tsx
// ‚úÖ CORRECTO - Hereda design tokens
import { cn } from '@/lib/utils'

interface LuxuryCardProps {
  children: React.ReactNode
  variant?: 'default' | 'premium'
  className?: string
}

export function LuxuryCard({ children, variant = 'default', className }: LuxuryCardProps) {
  return (
    <div className={cn(
      "rounded-lg border bg-card text-card-foreground shadow-sm",
      "transition-all duration-300 hover:shadow-lg",
      variant === 'premium' && "border-primary/20 bg-gradient-to-br from-card to-primary/5",
      className
    )}>
      {children}
    </div>
  )
}
```

**Checklist de componentes:**
- ‚úÖ Usar `cn()` de `@/lib/utils` para merge de clases
- ‚úÖ Heredar tokens del theme: `hsl(var(--primary))`, `bg-card`, etc.
- ‚úÖ Props tipados con TypeScript (sin `any`)
- ‚úÖ Documentar en `components/custom/README.md` si es custom
- ‚ùå NUNCA concatenar strings de clases manualmente
- ‚ùå NUNCA crear variantes que no usen design tokens

---

## üìÅ REGLAS DE ARQUITECTURA DE ARCHIVOS

### 6. Estructura y Separaci√≥n de Responsabilidades
```
app/
‚îú‚îÄ‚îÄ (marketing)/
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx              # Server Component por defecto
‚îÇ   ‚îî‚îÄ‚îÄ layout.tsx
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îî‚îÄ‚îÄ contact/route.ts      # Route handlers
‚îî‚îÄ‚îÄ globals.css

components/
‚îú‚îÄ‚îÄ ui/                        # Shadcn components (no modificar)
‚îÇ   ‚îú‚îÄ‚îÄ button.tsx
‚îÇ   ‚îî‚îÄ‚îÄ dialog.tsx
‚îú‚îÄ‚îÄ features/                  # Business logic components
‚îÇ   ‚îú‚îÄ‚îÄ hero-section.tsx
‚îÇ   ‚îú‚îÄ‚îÄ gallery-grid.tsx
‚îÇ   ‚îî‚îÄ‚îÄ contact-form.tsx
‚îî‚îÄ‚îÄ custom/                    # Custom UI components
    ‚îú‚îÄ‚îÄ luxury-card.tsx
    ‚îî‚îÄ‚îÄ README.md              # Documentaci√≥n obligatoria

lib/
‚îú‚îÄ‚îÄ utils.ts                   # cn() y helpers
‚îú‚îÄ‚îÄ fonts.ts                   # Font configs
‚îî‚îÄ‚îÄ validations.ts             # Zod schemas

hooks/
‚îú‚îÄ‚îÄ use-animation-config.ts
‚îî‚îÄ‚îÄ use-media-query.ts
```

**Reglas de uso:**
- ‚úÖ **Server Components por defecto** (m√°s performantes)
- ‚úÖ `'use client'` SOLO cuando necesites: hooks, event handlers, browser APIs
- ‚úÖ Colocaci√≥n:
  - P√°ginas ‚Üí `app/`
  - UI reutilizable ‚Üí `components/ui/`
  - L√≥gica de negocio ‚Üí `components/features/`
  - Utilities ‚Üí `lib/`
  - Custom hooks ‚Üí `hooks/`
- ‚ùå NUNCA mezclar l√≥gica de negocio en `components/ui/`

---

## üîÑ REGLAS DE FETCHING Y ESTADO

### 7. Data Fetching Strategy
```tsx
// ‚úÖ CORRECTO - Server Component (preferido)
// app/projects/page.tsx
async function ProjectsPage() {
  const projects = await fetch('https://api.example.com/projects', {
    next: { revalidate: 3600 } // ISR: 1 hora
  }).then(res => res.json())
  
  return <ProjectGrid projects={projects} />
}

// ‚úÖ CORRECTO - Client Component con TanStack Query
// components/features/live-feed.tsx
'use client'
import { useQuery } from '@tanstack/react-query'

export function LiveFeed() {
  const { data, isLoading } = useQuery({
    queryKey: ['live-feed'],
    queryFn: async () => {
      const res = await fetch('/api/live-feed')
      return res.json()
    },
    staleTime: 5 * 60 * 1000, // 5 minutos
    refetchInterval: 30000, // Refetch cada 30s
  })
  
  if (isLoading) return <FeedSkeleton />
  return <FeedList items={data} />
}

// ‚ùå INCORRECTO - useEffect para fetching inicial
useEffect(() => {
  fetch('/api/data').then(res => res.json()).then(setData)
}, [])
```

**Decision Matrix:**

| Caso de Uso | Soluci√≥n | Configuraci√≥n |
|------------|----------|---------------|
| Contenido est√°tico/editorial | Server Component + ISR | `revalidate: 3600` |
| Datos en tiempo real | Client + TanStack Query | `refetchInterval: 30000` |
| Datos espec√≠ficos del usuario | Client + TanStack Query | `staleTime: 0` |
| B√∫squeda/filtros | URL search params + Server | `searchParams` prop |

---

### 8. Gesti√≥n de Estado
```tsx
// ‚úÖ CORRECTO - Server State con TanStack Query
// Configurado en app/providers.tsx
'use client'
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'

const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      staleTime: 5 * 60 * 1000,
      gcTime: 10 * 60 * 1000,
    },
  },
})

// ‚úÖ CORRECTO - UI State con Zustand (solo para estado complejo)
// stores/navigation-store.ts
import { create } from 'zustand'

interface NavigationState {
  isMenuOpen: boolean
  activeSection: string
  toggleMenu: () => void
  setActiveSection: (section: string) => void
}

export const useNavigationStore = create<NavigationState>((set) => ({
  isMenuOpen: false,
  activeSection: 'home',
  toggleMenu: () => set((state) => ({ isMenuOpen: !state.isMenuOpen })),
  setActiveSection: (section) => set({ activeSection: section }),
}))

// ‚úÖ CORRECTO - Form State con React Hook Form + Zod
import { useForm } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import { z } from 'zod'

const contactSchema = z.object({
  name: z.string().min(2, 'Nombre muy corto'),
  email: z.string().email('Email inv√°lido'),
  message: z.string().min(10, 'Mensaje muy corto'),
})

export function ContactForm() {
  const form = useForm({
    resolver: zodResolver(contactSchema),
    defaultValues: { name: '', email: '', message: '' }
  })
  
  // ...
}
```

**Stack de estado:**
- **Server State:** TanStack Query (configurado globalmente)
- **UI State local:** `useState` para casos simples
- **UI State global:** Zustand (solo si afecta > 3 componentes)
- **Form State:** React Hook Form + Zod validation
- **URL State:** Next.js `searchParams` + `useRouter`

**PROHIBIDO:**
- ‚ùå Redux/Redux Toolkit (overhead innecesario para este proyecto)
- ‚ùå Context API para datos remotos (usar TanStack Query)
- ‚ùå `useEffect` para fetching inicial (anti-pattern)

---

## üîí REGLAS DE TYPESCRIPT

### 9. Type Safety Obligatorio
```tsx
// ‚úÖ CORRECTO - Props expl√≠citos
interface HeroSectionProps {
  title: string
  subtitle: string
  backgroundImage: string
  ctaText?: string // Optional con ?
  onCtaClick?: () => void
}

export function HeroSection({ 
  title, 
  subtitle, 
  backgroundImage,
  ctaText = 'Explorar', // Default value
  onCtaClick 
}: HeroSectionProps) {
  // ...
}

// ‚úÖ CORRECTO - Uso de 'satisfies' para config objects
const siteConfig = {
  name: 'Premium Home Design',
  description: 'Luxury interior solutions',
  links: {
    instagram: 'https://instagram.com/...',
    contact: '/contact',
  }
} satisfies {
  name: string
  description: string
  links: Record<string, string>
}

// ‚úÖ PERMITIDO - Escape hatch con justificaci√≥n
const data = JSON.parse(response) as ProjectData // OK: External API sin types
// @ts-expect-error - Three.js r128 no tiene types para esta propiedad experimental
renderer.shadowMap.autoUpdate = false

// ‚ùå INCORRECTO
const props: any = getProps() // Demasiado permisivo
// @ts-ignore sin explicaci√≥n
```

**Reglas:**
- ‚úÖ Todos los props de componentes tienen interfaces/types expl√≠citos
- ‚úÖ Usar `satisfies` para config objects que necesitan inference
- ‚úÖ Funciones exportadas tienen tipos de retorno expl√≠citos
- ‚ùå `any` est√° prohibido (excepci√≥n: APIs externas sin types)
- ‚ùå `@ts-ignore` requiere comentario explicando el por qu√©
- ‚úÖ Usar `@ts-expect-error` en vez de `@ts-ignore` (falla si el error desaparece)

---

## ‚ôø REGLAS DE ACCESIBILIDAD

### 10. WCAG 2.1 Level AA Compliance
```tsx
// ‚úÖ CORRECTO - Contraste y navegaci√≥n
<button 
  className="bg-primary text-primary-foreground" // Contraste 4.5:1 m√≠nimo
  onClick={handleClick}
  aria-label="Abrir galer√≠a de proyectos"
>
  <GalleryIcon aria-hidden="true" /> {/* Decorativo */}
  Ver Proyectos
</button>

// ‚úÖ CORRECTO - Skip links
// app/layout.tsx
<body>
  <a 
    href="#main-content" 
    className="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 z-50"
  >
    Saltar al contenido principal
  </a>
  <Navigation />
  <main id="main-content">
    {children}
  </main>
</body>

// ‚úÖ CORRECTO - Formularios accesibles
<form>
  <label htmlFor="email" className="block mb-2">
    Email *
  </label>
  <input
    id="email"
    type="email"
    required
    aria-describedby="email-error"
    aria-invalid={errors.email ? 'true' : 'false'}
  />
  {errors.email && (
    <p id="email-error" role="alert" className="text-destructive">
      {errors.email.message}
    </p>
  )}
</form>
```

**Checklist obligatorio:**
- ‚úÖ **Contraste:** M√≠nimo 4.5:1 para texto normal, 3:1 para texto grande (>18px)
- ‚úÖ **Keyboard navigation:** Todo elemento interactivo accesible con Tab
- ‚úÖ **Focus visible:** Estados de `:focus-visible` en todos los interactivos
- ‚úÖ **Skip links:** Presente en layout principal
- ‚úÖ **ARIA labels:** En iconos sin texto y elementos interactivos
- ‚úÖ **Landmarks:** `<main>`, `<nav>`, `<header>`, `<footer>` sem√°nticos
- ‚úÖ **Form labels:** Asociados con `htmlFor` / `id`
- ‚úÖ **Error messages:** Con `role="alert"` y `aria-describedby`
- ‚úÖ **Alt text:** Descriptivo (no "imagen de..." sino describir contenido)

**Testing:**
```bash
# Instalar (si no existe)
npm install -D @axe-core/react

# Integrar en development
# app/layout.tsx (solo en dev)
if (process.env.NODE_ENV === 'development') {
  import('@axe-core/react').then(axe => {
    axe.default(React, ReactDOM, 1000)
  })
}
```

---

## üß™ REGLAS DE TESTING

### 11. Estrategia de Testing
```bash
# Stack de testing
npm install -D vitest @testing-library/react @testing-library/jest-dom
npm install -D @playwright/test # E2E
```

**Cobertura m√≠nima:**
```tsx
// __tests__/components/ui/button.test.tsx - Unit test
import { render, screen } from '@testing-library/react'
import { Button } from '@/components/ui/button'

describe('Button', () => {
  it('renders with correct variant styles', () => {
    render(<Button variant="default">Click me</Button>)
    const button = screen.getByRole('button', { name: /click me/i })
    expect(button).toHaveClass('bg-primary')
  })
})

// __tests__/e2e/contact-flow.spec.ts - E2E con Playwright
import { test, expect } from '@playwright/test'

test('contact form submission', async ({ page }) => {
  await page.goto('/')
  await page.click('text=Contacto')
  
  await page.fill('[name="name"]', 'John Doe')
  await page.fill('[name="email"]', 'john@example.com')
  await page.fill('[name="message"]', 'Interested in luxury design')
  
  await page.click('button[type="submit"]')
  
  await expect(page.locator('text=Mensaje enviado')).toBeVisible()
})
```

**Niveles de testing:**
1. **Unit:** Componentes UI en aislamiento (Vitest + Testing Library)
2. **Integration:** Features complejas con m√∫ltiples componentes
3. **E2E:** Flujos cr√≠ticos de usuario (Playwright)
   - Homepage load + LCP
   - Contact form submission
   - Gallery navigation

**Comando pre-commit:**
```json
// package.json
{
  "scripts": {
    "test": "vitest",
    "test:e2e": "playwright test",
    "test:coverage": "vitest --coverage"
  }
}
```

---

## ü§ñ PROTOCOLO DE RESPUESTA DEL AGENTE

### Proceso de Generaci√≥n de C√≥digo

**SIEMPRE que generes c√≥digo, ejecuta este checklist:**

1. **Verificaci√≥n de Reglas:**
   - ‚úÖ ¬øCumple performance rules? (Im√°genes, fonts, animaciones)
   - ‚úÖ ¬øUsa componentes correctos de Shadcn?
   - ‚úÖ ¬øTypeScript types completos?
   - ‚úÖ ¬øAccesibilidad b√°sica cubierta?

2. **Formato de Respuesta:**
```tsx
// ‚ùå PROBLEMA DETECTADO
<Image src="/hero.jpg" alt="Hero" fill /> // Sin priority, causa LCP lento

// ‚úÖ C√ìDIGO CORREGIDO
<Image 
  src="/hero.webp"
  alt="Interior de sala de dise√±o premium con iluminaci√≥n natural"
  width={1920}
  height={1080}
  priority={true}
  sizes="100vw"
  quality={85}
/>
// üí° EXPLICACI√ìN: priority={true} mejora LCP en ~1.2s seg√∫n Web Vitals
```

3. **Comentarios Inline:**
   - Incluir breve explicaci√≥n de optimizaciones no obvias
   - Referenciar la regla espec√≠fica del agentrules (ej: "Ver Regla #1")

---

### Prohibiciones Absolutas

**NUNCA hagas esto sin advertir al usuario:**

‚ùå Sugerir instalaci√≥n de paquetes no listados en el stack
‚ùå Usar patrones de React < 18 (`componentDidMount`, render props legacy)
‚ùå Proponer soluciones que requieran ejecuci√≥n en servidor Node.js custom
‚ùå Generar tipos `any` en TypeScript
‚ùå Crear animaciones sin `prefers-reduced-motion`
‚ùå Usar `localStorage`/`sessionStorage` sin fallback SSR

---

### Manejo de Conflictos

**Si el usuario pide algo que viola performance/accesibilidad:**
```
üö® ADVERTENCIA: Esta implementaci√≥n violar√≠a [Regla #X]:
- Problema: [Descripci√≥n espec√≠fica]
- Impacto estimado: [Ej: +800ms en LCP, -15 puntos Lighthouse]

üí° ALTERNATIVA OPTIMIZADA:
[Proponer soluci√≥n que mantenga la intenci√≥n pero optimizada]

‚ö†Ô∏è Si a√∫n deseas la implementaci√≥n original, conf√≠rmalo y la generar√© con comentarios de advertencia.
```

**Ejemplo real:**
```
Usuario: "A√±ade un parallax scroll a todas las secciones"

Respuesta:
üö® ADVERTENCIA: Parallax en todas las secciones violar√≠a Regla #3 (Animaciones):
- Problema: Scrolljacking en m√≥viles low-end, INP aumenta >300ms
- Impacto: Lighthouse score -20 puntos en mobile

üí° ALTERNATIVA OPTIMIZADA:
- Parallax SOLO en hero section (1era pantalla)
- Usar transform en lugar de position
- Detectar device capabilities antes de activar

¬øProcedo con la versi√≥n optimizada o prefieres la original?
```

---

## üìö RECURSOS Y REFERENCIAS

**Documentaci√≥n oficial a consultar:**
- Next.js App Router: https://nextjs.org/docs
- Shadcn UI: https://ui.shadcn.com
- Framer Motion: https://www.framer.com/motion
- React Three Fiber: https://docs.pmnd.rs/react-three-fiber
- TanStack Query: https://tanstack.com/query/latest

**Tools para validaci√≥n:**
- Lighthouse CI: Automatizar tests de performance
- Axe DevTools: Accessibility testing
- Bundle Analyzer: `@next/bundle-analyzer`

---

## üîÑ CHANGELOG

### v2.0.0 (Current)
- ‚ûï A√±adidas reglas completas de TypeScript (#9)
- ‚ûï Agregada estrategia de data fetching y estado (#7-8)
- ‚ûï Incluida secci√≥n de accesibilidad WCAG (#10)
- ‚ûï A√±adido protocolo de testing (#11)
- üîß Mejorada regla de im√°genes con `sizes` y aspect ratio (#1)
- üîß Optimizaci√≥n 3D expandida con Suspense y LOD (#4)
- üîß Animaciones con `prefers-reduced-motion` (#3)
- üìù Protocolo de respuesta del agente m√°s espec√≠fico

### v1.0.0
- üéâ Versi√≥n inicial con reglas b√°sicas de performance

---

**FIN DEL DOCUMENTO**

*Este agentrules es un documento vivo. Si detectas casos edge no cubiertos o reglas conflictivas, documenta el caso y actualiza la versi√≥n.*